<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head> 
    <title>Minipilot</title> 
    <link rel="shortcut icon" th:href="@{/images/favicon-32x32.png}" type="image/x-icon" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/bubble.css}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.min.js"></script>
</head>
<body>
    <div id="wrapper">
        <section>
			<div th:replace="fragments/header :: headerFragment"></div>
            <div class="container p-5 mt-6 mb-6">
			    <div class="columns">
			        <div class="column"></div>
			        <div class="column is-two-thirds">
			            <h1 id="name" class="title is-4 pb-3">Prompts</h1>
						<h2 class="title is-5">System prompt</h2>
						<div class="bubble p-4">
						    <form th:action="@{/prompt/save}" method="post">
						        <textarea style="width:100%; padding:0em; border:none; outline:none;" id="system" name="prompt" th:text="${system}"></textarea>
						        <input type="hidden" name="type" value="system">
						        <button type="submit" class="p-0 button is-ghost is-inline">
						            Save
						        </button>
						    </form>
						</div>
						
						<h2 class="title is-5">User prompt</h2>
						<div class="bubble p-4">
						    <form th:action="@{/prompt/save}" method="post">
						        <textarea style="width:100%; padding:0em; border:none; outline:none;" id="user" name="prompt" th:text="${user}"></textarea>
						        <input type="hidden" name="type" value="user">
						        <button type="submit" class="p-0 button is-ghost is-inline">
						            Save
						        </button>
						    </form>
						</div>
			        </div>
			        <div class="column"></div>
			    </div>
				
			    <script>
			        $('textarea').each(function() {
			            this.style.height = 'auto';
			            this.style.height = this.scrollHeight + 'px';
			        });
			    </script>
            </div>
        </section>
    </div>
</body>
</html>